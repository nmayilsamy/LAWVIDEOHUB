<!DOCTYPE html>
<html>
<head>
  <title>Index</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    h2 {
      margin-bottom: 20px;
    }
    ul {
      list-style-type: none;
      padding: 0;
    }
    li {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Categories</h2>
    <ul id="categoryList"></ul>
  </div>

  <script>
    function fetchCSVFile(fileUrl, callback) {
      fetch(fileUrl)
        .then(response => response.text())
        .then(csvData => {
          callback(csvData);
        })
        .catch(error => {
          console.error("Error reading CSV file:", error);
        });
    }

    function parseCSVData(csvData) {
      const csvRows = csvData.split("\n");
      console.log(csvRows)
      const categories = [];

      for (let i = 1; i < csvRows.length; i++) {
        const rowData = csvRows[i].split(",");
        if (rowData.length > 0) {
          const category = rowData[0].trim();
          categories.push(category);
        }
      }

      return categories;
    }

    function createCategoryLinks(categories) {
      const categoryList = document.getElementById("categoryList");

      categories.forEach(category => {
        const listItem = document.createElement("li");
        const link = document.createElement("a");
        link.textContent = category;
        link.href = `categories/${category}.html`;
        listItem.appendChild(link);
        categoryList.appendChild(listItem);
      });
    }

    const csvFileUrl = "categories.csv";

    fetchCSVFile(csvFileUrl, function(csvData) {
      const categories = parseCSVData(csvData);
      createCategoryLinks(categories);
    });
  </script>
</body>
</html>
